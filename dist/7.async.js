webpackJsonp([7],{"3F+H":function(e,a){e.exports={container:"container___2mGg2",partTitle:"partTitle___367Kq",czItem:"czItem___2X7w_"}},Rxk8:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),t.d(a,"default",function(){return O});var n=t("/clD"),r=(t.n(n),t("8bgf")),c=t.n(r),l=t("Rp4M"),o=(t.n(l),t("1mqI")),i=t.n(o),s=t("ouU/"),m=(t.n(s),t("V0as")),u=t.n(m),p=t("Gvru"),h=(t.n(p),t("Bveb")),g=t.n(h),d=t("GZ44"),y=t.n(d),f=t("WZO+"),v=(t.n(f),t("wy18")),E=t.n(v),N=t("YbOa"),b=t.n(N),w=t("U5hO"),I=t.n(w),T=t("EE81"),_=t.n(T),k=t("Jmyu"),z=t.n(k),j=t("/00i"),C=t.n(j),S=t("9wvh"),R=t.n(S),L=t("Z1y9"),U=t("3F+H"),A=t.n(U),F=t("nUeE"),O=function(e){function a(e){var t;return b()(this,a),t=z()(this,C()(a).call(this,e)),t.state={accountLeft:"",rechargeTypeList:[{title:"\u5fae\u4fe1\u652f\u4ed8",img:"//res.tuwan.com/templet/teach/play/recharge/images/wechat.jpg",selectedImg:"//res.tuwan.com/templet/teach/play/recharge/images/wechat_hover.jpg?1 ",typeId:0},{title:"\u652f\u4ed8\u5b9d\u652f\u4ed8",img:"//res.tuwan.com/templet/teach/play/recharge/images/alipay.jpg",selectedImg:"//res.tuwan.com/templet/teach/play/recharge/images/alipay_hover.jpg ",typeId:1}],rechargeNumberList:["5","30","50","100","300","500"],rechargeNumber:"5",rechargeNumber2:" ",rechargeType:0},t}return _()(a,[{key:"UNSAFE_componentWillMount",value:function(){console.log(this.props);var e=F.get("username");if(void 0!==e&&e.username){var a=this;return fetch("".concat(L.a,"/user/info"),{method:"GET",mode:"cors",credentials:"include",headers:new Headers({Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:L.c("/user/info")})}).then(function(e){console.log(e),e.json().then(function(e){console.log(e),107===e.statusCode&&a.setState({accountLeft:e.resource.diamonds})},function(e){console.log(e)})})}}},{key:"componentDidMount",value:function(){}},{key:"setRechargeNumber",value:function(e){this.setState({rechargeNumber2:" ",rechargeNumber:e})}},{key:"selectRechargeType",value:function(e){this.setState({rechargeType:e.typeId})}},{key:"rechargeDimond",value:function(){if(!F.get("username"))return void E.a.warn("\u60a8\u8fd8\u6ca1\u767b\u5f55\uff0c\u8bf7\u5148\u767b\u5f55");var e=this.state,a=e.rechargeNumber2,t=e.rechargeNumber,n=e.rechargeType;if(0===Number(a)&&0===Number(t))return void E.a.warn("\u8bf7\u9009\u62e9\u5145\u503c\u91d1\u989d\uff01\uff01");if(0===n)return void E.a.warn("\u5fae\u4fe1\u652f\u4ed8\u6682\u65f6\u4e0d\u80fd\u7528\uff0c\u8bf7\u9009\u62e9\u652f\u4ed8\u5b9d\u5145\u503c");var r={tranpwd:"string",total_fee:0===Number(a)?Number(t):Number(a),type:n};fetch("".concat(L.a,"/chongzhi/alipay/payment"),{method:"POST",mode:"cors",body:y()(r),credentials:"include",headers:new Headers({Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:L.c("/chongzhi/alipay/payment")})}).then(function(e){console.log(e),e.json().then(function(e){console.log(e),107===e.statusCode&&(window.location.href=e.resource)},function(e){console.log(e)})})}},{key:"render",value:function(){var e=this,a=this.state,t=a.accountLeft,n=a.rechargeNumberList,r=a.rechargeNumber,l=a.rechargeNumber2,o=a.rechargeTypeList,s=a.rechargeType;return R.a.createElement("div",null,R.a.createElement("div",{className:A.a.container},R.a.createElement("div",{className:A.a.partTitle},"\u258e\u94bb\u77f3\u5145\u503c"),R.a.createElement("div",{className:A.a.czItem},R.a.createElement(u.a,null,R.a.createElement(g.a,{span:2},"\u8d26\u6237\u4f59\u989d\uff1a"),R.a.createElement(g.a,{span:22},R.a.createElement("span",{style:{fontSize:24,fontWeight:600}},t,"\xa0\u94bb\u77f3")))),R.a.createElement("div",{className:A.a.czItem},R.a.createElement(u.a,null,R.a.createElement(g.a,{span:2},"\u5145\u503c\u8d27\u5e01\uff1a"),R.a.createElement(g.a,{span:22},n.map(function(a,t){return R.a.createElement(i.a,{style:{marginRight:20},type:r===a?"primary":"default",onClick:e.setRechargeNumber.bind(e,a),key:t},a,"\u5143")}),R.a.createElement(c.a,{placeholder:"\u624b\u52a8\u8f93\u5165\u91d1\u989d\uff08\u5143\uff09",onClick:function(){e.setState({rechargeNumber:""})},value:l,onChange:function(a){console.log(parseInt(a.target.value,0)),e.setState({rechargeNumber:"",rechargeNumber2:isNaN(parseInt(a.target.value,0))?"0":a.target.value})},style:{width:200}})))),R.a.createElement("div",{className:A.a.czItem},R.a.createElement(u.a,null,R.a.createElement(g.a,{span:2},"\u5145\u503c\u94bb\u77f3\uff1a"),R.a.createElement(g.a,{span:22},R.a.createElement("span",{style:{fontSize:24,fontWeight:600,color:"red"}},""!==r?10*Number(r):""!==l?10*Number(l):0,"\u94bb\u77f3"),R.a.createElement("span",{style:{color:"#999999"}},"\xa0(\u5151\u6362\u6bd4\u4f8b\uff1a1\u5143=10\u94bb\u77f3)")))),R.a.createElement("div",{className:A.a.czItem},R.a.createElement(u.a,null,R.a.createElement(g.a,{span:2},"\u5145\u503c\u65b9\u5f0f\uff1a"),R.a.createElement(g.a,{span:22},o.map(function(a,t){return R.a.createElement("img",{src:s===a.typeId?a.selectedImg:a.img,alt:"",key:t,style:{marginRight:22,cursor:"pointer"},onClick:e.selectRechargeType.bind(e,a)})})))),R.a.createElement("div",{className:A.a.czItem},R.a.createElement(u.a,null,R.a.createElement(g.a,{span:2}),R.a.createElement(g.a,{span:22},R.a.createElement(i.a,{type:"primary",size:"large",onClick:function(){e.rechargeDimond()}},"\u7acb\u5373\u5145\u503c"))))))}}]),I()(a,e),a}(R.a.Component)}});