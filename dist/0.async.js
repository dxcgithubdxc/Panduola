webpackJsonp([0],{"2mSJ":function(t,e,n){function r(t){return function(){var e=this,n=arguments;return new a(function(r,s){function u(t,e){try{var n=i[t](e),u=n.value}catch(t){return void s(t)}n.done?r(u):a.resolve(u).then(c,o)}function c(t){u("next",t)}function o(t){u("throw",t)}var i=t.apply(e,n);c()})}}var a=n("Ri2b");t.exports=r},"6TAA":function(t,e,n){t.exports=n("BUcb")},BUcb:function(t,e,n){n("Jd1N"),t.exports=self.fetch.bind(self)},BXRe:function(t,e,n){"use strict";function r(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}function a(t,e){return s.apply(this,arguments)}function s(){return s=w()(f.a.mark(function t(e,n){var a,s,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()(e,n);case 2:return a=t.sent,r(a),t.next=6,a.json();case 6:return s=t.sent,u={data:s,headers:{}},a.headers.get("x-total-count")&&(u.headers["x-total-count"]=a.headers.get("x-total-count")),t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)})),s.apply(this,arguments)}function u(t){var e=t.page;return g("/api/users?_page=".concat(void 0===e?1:e,"&_limit=5"))}function c(t){return g("/api/users",{methods:"POST",data:v()(t)})}function o(t){var e=t.id,n=t.values;return g("/api/users/".concat(e),{methods:"PATCH",data:v()(n)})}function i(t){var e=t.id;return g("/api/users/".concat(e),{methods:"DELETE"})}Object.defineProperty(e,"__esModule",{value:!0});var p=n("UVnk"),f=n.n(p),d=n("vVw/"),l=n.n(d),h=n("GZ44"),v=n.n(h),x=n("2mSJ"),w=n.n(x),y=n("6TAA"),m=n.n(y),g=a;e.default={namespace:"users",state:{list:[],total:0,page:0},reducers:{save:function(t,e){var n=e.payload,r=n.data,a=n.total,s=n.page;return l()({},t,{list:r,total:a,page:s})},search:function(t){return l()({},t)}},effects:{fetch:f.a.mark(function t(e,n){var r,a,s,c,o,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload.page,a=n.call,s=n.put,t.next=4,a(u,{page:r});case 4:return c=t.sent,o=c.data,i=c.headers,t.next=9,s({type:"save",payload:{data:o,total:i["x-total-count"],page:parseInt(r,10)}});case 9:case"end":return t.stop()}},t,this)}),create:f.a.mark(function t(e,n){var r,a,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,a=n.call,s=n.put,t.next=4,a(c,r);case 4:case"end":return t.stop()}},t,this)}),patch:f.a.mark(function t(e,n){var r,a,s,u,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload,a=r.id,s=r.values,u=n.call,c=n.put,t.next=4,u(o,{id:a,values:s});case 4:return t.next=6,c({type:"reload"});case 6:case"end":return t.stop()}},t,this)}),remove:f.a.mark(function t(e,n){var r,a,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.payload.id,a=n.call,s=n.put,t.next=4,a(i,{id:r});case 4:return t.next=6,s({type:"reload"});case 6:case"end":return t.stop()}},t,this)}),reload:f.a.mark(function t(e,n){var r,a,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.put,a=n.select,t.next=3,a(function(t){return t.users.page});case 3:return s=t.sent,t.next=6,r({type:"fetch",payload:{page:s}});case 6:case"end":return t.stop()}},t,this)})},subscriptions:{setup:function(t){t.dispatch;return t.history.listen(function(t){t.pathname,t.search})}}}}});